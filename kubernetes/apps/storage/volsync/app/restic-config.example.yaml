# Example restic-config Secret for VolSync backup destination.
# TrueNAS NFS 192.168.1.1:/mnt/sexy-pool is configured in restic-config.sops.yaml;
# ReplicationSource must use moverVolumes to mount that NFS (see replicationsource-example.yaml).
#
# For a new namespace: copy restic-config.sops.yaml, ensure RESTIC_REPOSITORY is
# /mnt/volsync-backups/restic and add moverVolumes (NFS 192.168.1.1, path /mnt/sexy-pool)
# to each ReplicationSource.
#
# For S3/MinIO (e.g. MinIO on TrueNAS):
#   RESTIC_REPOSITORY: "s3:https://minio.truenas.local/bucket/restic-repo"
#   Add AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY to the Secret.
#
apiVersion: v1
kind: Secret
metadata:
  name: restic-config
  namespace: volsync-system
type: Opaque
stringData:
  RESTIC_REPOSITORY: /mnt/volsync-backups/restic
  RESTIC_PASSWORD: ""   # Stored in restic-config.sops.yaml (SOPS); add to api-keys.yaml for reference
