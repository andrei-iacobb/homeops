---
# Grants Prometheus (kube-prometheus-stack) permission to scrape VolSync metrics.
# VolSync protects its metrics with kube-rbac-proxy; this binding allows the
# Prometheus SA to access the volsync-metrics-reader ClusterRole (created by VolSync).
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: volsync-metrics-prometheus
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: volsync-metrics-reader
subjects:
- kind: ServiceAccount
  name: prometheus-kube-prometheus-prometheus
  namespace: monitoring
