---
apiVersion: volsync.backube/v1alpha1
kind: ReplicationSource
metadata:
  name: "${APP}"
spec:
  sourcePVC: "${APP_PVC}"
  trigger:
    schedule: "${VOLSYNC_SCHEDULE}"
  restic:
    pruneIntervalDays: 7
    repository: "${APP}-volsync-secret"
    retain:
      hourly: 6
      daily: 7
      weekly: 4
      monthly: 3
    copyMethod: Direct
    moverSecurityContext:
      runAsUser: ${MOVER_UID}
      runAsGroup: ${MOVER_GID}
    cacheStorageClassName: openebs-hostpath
    cacheCapacity: 2Gi
